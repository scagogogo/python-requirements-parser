import{_ as a,c as i,o as n,ag as e}from"./chunks/framework.CrPbnHrx.js";const d=JSON.parse('{"title":"GitHub Pages 设置指南","description":"","frontmatter":{},"headers":[],"relativePath":"GITHUB_PAGES_SETUP.md","filePath":"GITHUB_PAGES_SETUP.md","lastUpdated":1752670245000}'),l={name:"GITHUB_PAGES_SETUP.md"};function t(r,s,p,h,o,g){return n(),i("div",null,s[0]||(s[0]=[e(`<h1 id="github-pages-设置指南" tabindex="-1">GitHub Pages 设置指南 <a class="header-anchor" href="#github-pages-设置指南" aria-label="Permalink to &quot;GitHub Pages 设置指南&quot;">​</a></h1><h2 id="🚨-当前状态" tabindex="-1">🚨 当前状态 <a class="header-anchor" href="#🚨-当前状态" aria-label="Permalink to &quot;🚨 当前状态&quot;">​</a></h2><p>GitHub Actions 部署失败，需要手动启用 GitHub Pages 功能。</p><h2 id="📋-解决步骤" tabindex="-1">📋 解决步骤 <a class="header-anchor" href="#📋-解决步骤" aria-label="Permalink to &quot;📋 解决步骤&quot;">​</a></h2><h3 id="_1-启用-github-pages" tabindex="-1">1. 启用 GitHub Pages <a class="header-anchor" href="#_1-启用-github-pages" aria-label="Permalink to &quot;1. 启用 GitHub Pages&quot;">​</a></h3><ol><li>访问 GitHub 仓库: <a href="https://github.com/scagogogo/python-requirements-parser" target="_blank" rel="noreferrer">https://github.com/scagogogo/python-requirements-parser</a></li><li>点击 <strong>Settings</strong> 标签页</li><li>在左侧菜单中找到 <strong>Pages</strong> 选项</li><li>在 <strong>Source</strong> 部分选择 <strong>Deploy from a branch</strong></li><li>在 <strong>Branch</strong> 下拉菜单中选择 <strong>gh-pages</strong></li><li>文件夹保持 <strong>/ (root)</strong></li><li>点击 <strong>Save</strong> 保存设置</li></ol><h3 id="_2-等待部署完成" tabindex="-1">2. 等待部署完成 <a class="header-anchor" href="#_2-等待部署完成" aria-label="Permalink to &quot;2. 等待部署完成&quot;">​</a></h3><p>启用 Pages 后：</p><ol><li>GitHub Actions 会自动重新运行</li><li>构建完成后会创建 <code>gh-pages</code> 分支</li><li>文档站点将在几分钟后可用</li></ol><h3 id="_3-访问文档站点" tabindex="-1">3. 访问文档站点 <a class="header-anchor" href="#_3-访问文档站点" aria-label="Permalink to &quot;3. 访问文档站点&quot;">​</a></h3><p>设置完成后，文档将在以下地址可用：</p><ul><li><a href="https://scagogogo.github.io/python-requirements-parser/" target="_blank" rel="noreferrer">https://scagogogo.github.io/python-requirements-parser/</a></li></ul><h2 id="🔧-修复说明" tabindex="-1">🔧 修复说明 <a class="header-anchor" href="#🔧-修复说明" aria-label="Permalink to &quot;🔧 修复说明&quot;">​</a></h2><p>我已经修改了 GitHub Actions 工作流：</p><h3 id="原来的问题" tabindex="-1">原来的问题 <a class="header-anchor" href="#原来的问题" aria-label="Permalink to &quot;原来的问题&quot;">​</a></h3><ul><li>使用了官方的 <code>actions/configure-pages@v4</code></li><li>需要仓库预先启用 Pages 功能</li><li>权限配置复杂</li></ul><h3 id="现在的解决方案" tabindex="-1">现在的解决方案 <a class="header-anchor" href="#现在的解决方案" aria-label="Permalink to &quot;现在的解决方案&quot;">​</a></h3><ul><li>使用 <code>peaceiris/actions-gh-pages@v3</code></li><li>自动创建和管理 <code>gh-pages</code> 分支</li><li>简化的权限配置</li><li>更可靠的部署流程</li></ul><h3 id="工作流变更" tabindex="-1">工作流变更 <a class="header-anchor" href="#工作流变更" aria-label="Permalink to &quot;工作流变更&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 之前 (复杂的官方方式)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">permissions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  contents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">read</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  pages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">write</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  id-token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">write</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 构建步骤</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 部署步骤</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 现在 (简化的第三方方式)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">permissions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  contents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">write</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deploy to GitHub Pages</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">peaceiris/actions-gh-pages@v3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          github_token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${{ secrets.GITHUB_TOKEN }}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          publish_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">docs/.vitepress/dist</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          publish_branch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gh-pages</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="🎯-预期结果" tabindex="-1">🎯 预期结果 <a class="header-anchor" href="#🎯-预期结果" aria-label="Permalink to &quot;🎯 预期结果&quot;">​</a></h2><p>设置完成后，你将拥有：</p><ol><li>✅ <strong>自动部署</strong> - 每次推送到 <code>main</code> 分支时自动更新文档</li><li>✅ <strong>专业文档站点</strong> - 现代化的 VitePress 文档</li><li>✅ <strong>响应式设计</strong> - 支持移动端和桌面端</li><li>✅ <strong>搜索功能</strong> - 本地搜索支持</li><li>✅ <strong>主题切换</strong> - 深色/浅色主题</li></ol><h2 id="🔍-验证步骤" tabindex="-1">🔍 验证步骤 <a class="header-anchor" href="#🔍-验证步骤" aria-label="Permalink to &quot;🔍 验证步骤&quot;">​</a></h2><ol><li><strong>检查 Actions</strong>: 访问 <a href="https://github.com/scagogogo/python-requirements-parser/actions" target="_blank" rel="noreferrer">https://github.com/scagogogo/python-requirements-parser/actions</a></li><li><strong>确认分支</strong>: 检查是否创建了 <code>gh-pages</code> 分支</li><li><strong>访问站点</strong>: 打开 <a href="https://scagogogo.github.io/python-requirements-parser/" target="_blank" rel="noreferrer">https://scagogogo.github.io/python-requirements-parser/</a></li><li><strong>测试功能</strong>: 验证导航、搜索、主题切换等功能</li></ol><h2 id="🆘-如果仍有问题" tabindex="-1">🆘 如果仍有问题 <a class="header-anchor" href="#🆘-如果仍有问题" aria-label="Permalink to &quot;🆘 如果仍有问题&quot;">​</a></h2><h3 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h3><ol><li><p><strong>Actions 仍然失败</strong></p><ul><li>检查仓库权限设置</li><li>确认 <code>GITHUB_TOKEN</code> 有写入权限</li></ul></li><li><p><strong>Pages 设置找不到</strong></p><ul><li>确保仓库是公开的</li><li>检查是否有管理员权限</li></ul></li><li><p><strong>站点无法访问</strong></p><ul><li>等待几分钟让 DNS 生效</li><li>检查 <code>gh-pages</code> 分支是否存在</li></ul></li></ol><h3 id="手动部署备选方案" tabindex="-1">手动部署备选方案 <a class="header-anchor" href="#手动部署备选方案" aria-label="Permalink to &quot;手动部署备选方案&quot;">​</a></h3><p>如果自动部署仍有问题，可以手动部署：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 使用 gh-pages 包手动部署</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="📞-获取帮助" tabindex="-1">📞 获取帮助 <a class="header-anchor" href="#📞-获取帮助" aria-label="Permalink to &quot;📞 获取帮助&quot;">​</a></h2><p>如果遇到问题，可以：</p><ol><li>查看 GitHub Actions 日志</li><li>检查 GitHub Pages 设置</li><li>参考 <a href="https://docs.github.com/en/pages" target="_blank" rel="noreferrer">GitHub Pages 官方文档</a></li><li>查看 <a href="https://vitepress.dev/guide/deploy#github-pages" target="_blank" rel="noreferrer">VitePress 部署指南</a></li></ol><h2 id="🎉-完成后" tabindex="-1">🎉 完成后 <a class="header-anchor" href="#🎉-完成后" aria-label="Permalink to &quot;🎉 完成后&quot;">​</a></h2><p>一旦设置成功，你的项目将拥有：</p><ul><li>📖 <strong>专业文档站点</strong>: <a href="https://scagogogo.github.io/python-requirements-parser/" target="_blank" rel="noreferrer">https://scagogogo.github.io/python-requirements-parser/</a></li><li>🤖 <strong>自动化部署</strong>: 推送即部署</li><li>📱 <strong>移动端友好</strong>: 响应式设计</li><li>🔍 <strong>搜索功能</strong>: 快速查找内容</li><li>🎨 <strong>现代设计</strong>: 美观的用户界面</li></ul><p>这将大大提升项目的专业性和用户体验！</p>`,38)]))}const c=a(l,[["render",t]]);export{d as __pageData,c as default};
